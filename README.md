# About
This is yet another open storage of CSV files automatically generated from the association's weekly web announcement, including breakdowns of numbers of visitors and ticket sales for Osaka/Kansai Expo 2025 in Japan.

2025大阪/関西万博の来場者数とチケット販売枚数について、公益社団法人2025年日本国際博覧会協会(以下、協会)が週次でウェブサイト「お知らせ」ページに掲載する運用のようです。このhtmlから取得できるデータを、独自に分解/整理してCSVファイルにします。そして、そのCSVファイルをこのGitHubリポジトリにpushし、公開します。同じCSVファイルを、Google Driveにも同じ階層構造と命名規則で公開します。

## Google Drive
https://drive.google.com/drive/folders/1AkcvZaIz9CP7plRr3DaZ6WrlXpKH0Kgi

-> if 404, please find at https://x.com/copperpan47385 (profile section).

## basic folder structure

|name     |description|
|---------|-----------
|misc     |(attachment/list/yyyymm/) www.expo2025.or.jp 配下から取得可能な(公開)添付ファイルの一覧をテキスト化。概ね日次更新|
|         |(aichi/) 2005年愛地球博覧の入場者実績。確定値のため更新は行わない(明らかに誤りのあった場合には改訂を検討する)|
|tickets  |(yyyymm/) 各種の入場券の販売枚数実績(協会発表値)。単位:枚。月曜日夕方に週次更新。それ以外は動作確認用の更新|
|visitors |(yyyymm/) 内訳を含む各日の入場者数実績(協会発表値)。単位:人。以下、同上|
|xlsx     |(yyyymm/) tickets と visitors をMS-Excelで扱いしやすくシートを分けて転記したもの。以下、同上|
|README.md|この説明書き。よりよい(わかりやすい)ものを目指して、随時更新|


### notes

- 協会の更新はこのGitHubリポジトリを開設した2025/5/23現在、毎週月曜日の週次です。しかしながら、自動更新の安定を確認するために、日次(nightly)更新としています。また、協会の更新曜日が月曜日から変わった場合にも、極力、労力の少ない追随で済むようにという狙い(思い)もあります。

- ファイルの内容は、月曜に当週(前週)分が追加されます。月曜日以外すなわち火曜日から日曜日までは、動作確認の目的で夜間(と、加えて随時、早朝)に処理が走るものの、内容は原則として同じになります。ただし、協会が元のhtmlファイルの値を変更した場合には、その変更が反映されます。

## update frequency

|day of week      |description|
|-----------------|-----------
|Mon 月           |17:20頃。協会の週次の更新タイミング(15:30前後)を受けて週次処理が走り、当サイトでも諸々を更新/公開|
|Tue - Sun 火 - 日|22:00頃、02:00頃。動作確認のため、nightlyで一式を更新|
|Sun 日           |06:00頃。何らかのメンテナンス処理を行うとしたら、概ねこのタイミング|

## field definitions

- 主な出力ファイルのフィールド定義を以下に記します。

### tickets

(例)

- a,L_招待券(おとな一日),news-20241129-04.html,00000144
- b,C_一日券(超早割+早割),news-20250421-02.html,00181160

|name|example              |description|
|----|---------------------|-----------
|F1  |a                    |開幕前(前売り)|
|    |b                    |開幕後|
|F2  |A_開幕券             |券種。符号(分類用)は当方独自。名称は(極力)協会に元のhtmlファイルに依る|
|F3  |news-20231208-02.html|協会の週次公表URLの末尾に、便宜的に.htmlを付したもの。https://www.expo2025.or.jp/news/news-20231208-02.html でアクセス可能|
|F4  |00015196             |協会の週次公表URLに記載された売上枚数を、8桁にゼロ埋め/揃え(パディング)したもの。左の例なら、2023年12月8日発表の概ね直前の1週間に、15196枚の売上があった(とされる)|

### visitors

(例)

- a,news-20250602-01.html,07,0531-0531,000187762,000017839,000169923
- b,news-20250421-02.html,08,0413-0419,000639875,000114938,000524937

|name|example              |description|
|----|---------------------|-----------
|F1  |a                    |その日の人数|
|    |b                    |その週の人数(小計)|
|F2  |news-20250602-01.html|協会の週次公表URLの末尾に、便宜的に.htmlを付したもの。https://www.expo2025.or.jp/news/news-20250602-01.html でアクセス可能|
|F3  |07                   |当方の処理上の分類符号(「並び順」以上の意味は、特になし)|
|F4  |0531-0531            |集計期間。左の例は2025年5月31日「その日」の意味。0413-0419なら、4月13日から4月19日までの週次小計|
|F5  |000187762            |一般来場者数とAD証入場者数の合計値(人)。協会の週次公表URLに記載された来場/入場者数を、8桁にゼロ埋め/揃え(パディング)したもの|
|F6  |000017839            |AD証来場者数(人)。以下、同上|
|F7  |000169923            |一般入場者数(人)。F5マイナスF6を行った値。以下、同上|

### tv: Ticket versus Visitors

- 入場券の販売実績(A)と一般来場者数(B)の累積を週次で積み上げ、(A)(B)の差分を入場券の積み残しとして可視化する試みです。

- misc/tv/yyyymm/yyyymmdd.txt

(例)

- a_news-20250411-03.html,364223,9065655,0,0,0
- b_news-20250421-02.html,912562,9978217,524937,524937,9453280

|name|example                |description|
|----|-----------------------|-----------
|F1  |a_news-20250411-03.html|aは前売り。_を挟んで続く文字列は、協会の週次公表URLの末尾に、便宜的に.htmlを付したもの|
|    |b_news-20250421-02.html|bは開催後。以下、同上|
|F2  |912562                 |その週の入場券販売実績(枚)|
|F3  |9978217                |その週を含む入場券販売実績累計(枚)|
|F4  |524937                 |その週の一般来場者数(人)|
|F5  |524937                 |その週を含む一般来場者数累積(人)|
|F6  |9453280                |販売済入場券の未使用分(市中、個人未使用、法人滞留等)(枚=人)。F3マイナスF6を行った値|

(Last modified at 08:45am, 2025/6/12)
